<!-- Component: nav
  Descrição: Template da barra lateral de navegação (menu) com busca e listas.
-->
<!-- Botão do menu mobile -->
<button class="menu-toggle" (click)="toggleMenu()">☰</button>

<!-- Overlay escurecido do mobile -->
<div
  class="sidebar-overlay"
  (click)="toggleMenu()"
  [class.active]="menuOpen"
></div>

<div class="wiki-layout">
  <!-- SIDEBAR -->
  <aside class="wiki-sidebar" [class.open]="menuOpen">
    <!-- LOGO -->
    <header class="wiki-sidebar-header">
      <a routerLink="/">
        <img
          src="https://github.com/programisan/origami/blob/main/logo-origami-core.png?raw=true"
          alt="Logo Origami Core"
          class="wiki-logo"
        />
      </a>
    </header>

    <!-- CAMPO DE BUSCA (vale pra docs e componentes) -->
    <div class="wiki-search">
      <input
        type="search"
        [(ngModel)]="searchTerm"
        placeholder="Buscar..."
        class="wiki-search-input"
      />
    </div>

    <!-- DOCUMENTAÇÃO (COLLAPSE) -->
    <button class="wiki-nav-button" (click)="toggleDocs()">
      <img
        src="https://raw.githubusercontent.com/programisan/origami/main/Path.png"
        class="wiki-nav-icon"
        [style.transform]="docsOpen ? 'rotate(90deg)' : 'rotate(360deg)'"
      />
      <strong>Documentação</strong>
    </button>

    <nav
      id="docs-nav"
      class="wiki-nav"
      [style.display]="docsOpen ? 'flex' : 'none'"
    >
      <!-- LISTA FILTRADA DE DOCUMENTAÇÃO -->
      <a
        *ngFor="let doc of filteredDocs"
        [routerLink]="doc.route"
        routerLinkActive="is-active"
        class="wiki-nav-item"
      >
        {{ doc.label }}
      </a>

      <!-- NENHUM RESULTADO NA DOCUMENTAÇÃO -->
      <div *ngIf="filteredDocs.length === 0" class="wiki-no-results">
        Nenhum resultado encontrado na documentação.
      </div>
    </nav>

    <!-- COMPONENTES (COLLAPSE 2) -->
    <button class="wiki-nav-button" (click)="toggleComponents()">
      <img
        src="https://raw.githubusercontent.com/programisan/origami/main/Path.png"
        class="wiki-nav-icon"
        [style.transform]="componentsOpen ? 'rotate(90deg)' : 'rotate(360deg)'"
      />
      <strong>Componentes</strong>
    </button>

    <nav
      id="docs-nav-1"
      class="wiki-nav"
      [style.display]="componentsOpen ? 'flex' : 'none'"
    >
      <!-- LISTA FILTRADA DE COMPONENTES -->
      <a
        *ngFor="let cmp of filteredComponents"
        [routerLink]="cmp.route"
        routerLinkActive="is-active"
        class="wiki-nav-item"
      >
        {{ cmp.label }}
      </a>

      <!-- NENHUM RESULTADO EM COMPONENTES -->
      <div *ngIf="filteredComponents.length === 0" class="wiki-no-results">
        Nenhum componente encontrado.
      </div>
    </nav>
  </aside>

  <!-- CONTEÚDO PRINCIPAL -->
  <main class="wiki-main"></main>
</div>
